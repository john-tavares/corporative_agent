compliance_task:
  description: >
    Analyze the user question below and determine if it violates policy.

    Prohibited topics:
    - Politics
    - Religion
    - Violence
    - Drugs
    - Layoffs / dismissals

    If the content is prohibited, explain why.
    Return your answer strictly in JSON format:

    {
      "allowed": true or false,
      "reason": "short explanation"
    }

    User Question:
    {user_question}

  expected_output: >
    A valid JSON object with allowed and reason fields.

  agent: compliance_guardian

rag_answer_task:
  description: >
    Use the retrieved internal document context below to answer the question.

    Rules:
    - ONLY use provided context.
    - If answer is not in context, say: "The documents do not contain this information."
    - Be precise and factual.

    Question:
    {user_question}

  expected_output: >
    A grounded answer strictly based on internal documents.

  agent: knowledge_expert

final_answer_task:
  description: >
    Compile the final answer based on the manager's decision and agent outputs.

    Considerations:
    - Synthesize a coherent final answer for the user.
    - Use a formal and informative tone.
    - If compliance_guardian disallowed the question, explain the reason.
    - Use pt_br language for the answer.

  expected_output: >
    A final response to the user that is compliant and informative.

  agent: final_answer_compiler